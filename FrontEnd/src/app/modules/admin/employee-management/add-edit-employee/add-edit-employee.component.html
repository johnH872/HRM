<div class="d-flex flex-wrap" mat-dialog-title style="margin: unset; padding: 1px 10px 1px 28px"
  [nbSpinner]="isLoading">
  <button mat-button color="primary" (click)="saveData()" [disabled]="!frmEmployee.valid">
    <mat-icon>save</mat-icon>Save
  </button>
  <button mat-button color="primary" (click)="closeDialog()">
    <mat-icon>clear</mat-icon>Cancel
  </button>
  <button mat-icon-button aria-label="Close the dialog" (click)="closeDialog()" class="ml-auto">
    <mat-icon>close</mat-icon>
  </button>
</div>
<mat-divider></mat-divider>
<mat-dialog-content class="mat-typography">
  <form [formGroup]="frmEmployee" class="container"
    style="padding-top: 25px; padding-right: 50px; padding-left: 50px">
    <!-- <div class="row">
      <div class="col-12 d-flex justify-content-center">
        <app-headshot [userModel]="userModel" #headshot></app-headshot>
      </div>
    </div> -->
    <div class="row">
      <div *ngIf="action == 0" class="col-12">
        <div class="alert alert-primary" role="alert">
          If password and confirm password are empty, the system will generate new password.
        </div>
      </div>

      <!-- <div class="col-12 col-lg-6" *ngIf="action == 1">
        <nb-toggle formControlName="isActive" status="success">Active</nb-toggle>
      </div> -->

      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input matInput id="email" type="email" formControlName="email" autocomplete="off" required trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.email?.errors &&
              (frmEmployee?.controls?.email?.dirty || 
              frmEmployee?.controls?.email?.touched)">
            {{ frmEmployee?.controls?.email["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>

      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label *ngIf="action == 1">New Password</mat-label>
          <mat-label *ngIf="action == 0">Password</mat-label>
          <input *ngIf="action == 1" matInput type="password" formControlName="password"
            autocomplete="off" trim="blur" />
          <input *ngIf="action == 0" matInput type="password" formControlName="password" autocomplete="off" trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.password?.errors &&
              (frmEmployee?.controls?.password?.dirty ||
                frmEmployee?.controls?.password?.touched)">
            {{ frmEmployee?.controls?.password["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label *ngIf="action == 1">Confirm New Password</mat-label>
          <mat-label *ngIf="action == 0">Confirm Password</mat-label>
          <input *ngIf="action == 1" matInput type="password" formControlName="confirmPassword"
            autocomplete="off" trim="blur" />
          <input *ngIf="action == 0" matInput type="password" formControlName="confirmPassword" autocomplete="off"
            trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.confirmPassword?.errors &&
              (frmEmployee?.controls?.confirmPassword?.dirty ||
                frmEmployee?.controls?.confirmPassword?.touched)">
            {{ frmEmployee?.controls?.confirmPassword["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>

      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label>First Name</mat-label>
          <input matInput type="text" formControlName="firstName" autocomplete="off" required trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.firstName?.errors &&
              (frmEmployee?.controls?.firstName?.dirty ||
                frmEmployee?.controls?.firstName?.touched)">
            {{ frmEmployee?.controls?.firstName["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label>Middle Name</mat-label>
          <input matInput type="text" formControlName="middleName" autocomplete="off" required trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.middleName?.errors &&
              (frmEmployee?.controls?.middleName?.dirty ||
                frmEmployee?.controls?.middleName?.touched)">
            {{ frmEmployee?.controls?.middleName["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label>Last Name</mat-label>
          <input matInput type="text" formControlName="lastName" autocomplete="off" required trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.lastName?.errors &&
              (frmEmployee?.controls?.lastName?.dirty ||
                frmEmployee?.controls?.lastName?.touched)">
            {{ frmEmployee?.controls?.lastName["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>

      <div class="col-12">
        <label>Gender: </label>
        <mat-radio-group aria-label="Select gender" formControlName="gender">
          <mat-radio-button value="Male">Male</mat-radio-button>
          <mat-radio-button value="Female">Female</mat-radio-button>
          <mat-radio-button value="Other">Other</mat-radio-button>
        </mat-radio-group>
      </div>

      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label>Phone Number</mat-label>
          <input matInput type="tel" formControlName="phoneNumber" autocomplete="off" trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.phoneNumber?.errors &&
              (frmEmployee?.controls?.phoneNumber?.dirty ||
                frmEmployee?.controls?.phoneNumber?.touched)">
            {{ frmEmployee?.controls?.phoneNumber["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>

      <div class="col-12 col-lg-6">
        <mat-form-field appearance="fill">
          <mat-label>Role</mat-label>
          <mat-select formControlName="roleId" required multiple>
            <mat-option *ngFor="let item of listRoles" [value]="item?.roleId | lowercase">
              {{ item?.displayName }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="
              frmEmployee?.controls?.roles?.errors &&
              (frmEmployee?.controls?.roles?.dirty || 
                frmEmployee?.controls?.roles?.touched)">
            {{ frmEmployee?.controls?.roles["errorMessage"] }}
          </mat-error>
        </mat-form-field>
      </div>
      
      <div class="col-12">
        <mat-form-field appearance="fill">
          <mat-label>Job Title</mat-label>
          <input matInput type="text" formControlName="jobTitle" autocomplete="off" trim="blur" />
          <mat-error *ngIf="
              frmEmployee?.controls?.jobTitle?.errors &&
              (frmEmployee?.controls?.jobTitle?.dirty ||
                frmEmployee?.controls?.jobTitle?.touched)">
            {{ frmEmployee?.controls?.jobTitle["errorMessage"] }}</mat-error>
        </mat-form-field>
      </div>
    </div>
  </form>
</mat-dialog-content>