<h1 id="title" class="title">Login</h1>
<p class="sub-title">Hello! Log in with your email.</p>

<nb-alert *ngIf="showMessages.error && errors?.length && !submitted" outline="danger" role="alert">
  <p class="alert-title"><b>Oh snap!</b></p>
  <ul class="alert-message-list">
    <li *ngFor="let error of errors" class="alert-message">{{ error }}</li>
  </ul>
</nb-alert>

<nb-alert *ngIf="showMessages.success && messages?.length && !submitted" outline="success" role="alert">
  <p class="alert-title"><b>Hooray!</b></p>
  <ul class="alert-message-list">
    <li *ngFor="let message of messages" class="alert-message">{{ message }}</li>
  </ul>
</nb-alert>

<form (ngSubmit)="login()" *ngIf="loginFormGroup" [formGroup]="loginFormGroup" aria-labelledby="title">
  <div class="form-control-group">
    <label class="label" for="input-name">Email:</label>
    <input pInputText placeholder="Email" class="w-full md:w-30rem mb-1" formControlName="email">
    <small class="form-text text-danger"
      *ngIf="loginFormGroup.controls.email.errors && (loginFormGroup.controls.email.dirty || loginFormGroup.controls.email.touched)">
      {{loginFormGroup.controls.email['errorMessage']}}</small>
  </div>

  <div class="form-control-group">
    <label class="label" for="input-name">Password</label>
    <input type="password" pInputText placeholder="Password" class="w-full md:w-30rem mb-1" formControlName="password">
    <small class="form-text text-danger"
      *ngIf="loginFormGroup.controls.password.errors && (loginFormGroup.controls.password.dirty || loginFormGroup.controls.password.touched)">
      {{loginFormGroup.controls.password['errorMessage']}}</small>
  </div>

  <div class="form-control-group accept-group">
    <p-checkbox name="rememberMe" value="rememberMe" [(ngModel)]="user.rememberMe" *ngIf="rememberMe" label="Remember me"></p-checkbox>
  </div>

  <button pButton pRipple label="Login" status="primary" class="w-full md:w-30rem mb-2" [disabled]="submitted || !loginFormGroup.valid"
    [class.btn-pulse]="submitted">
  </button>
</form>

<!-- <section class="another-action" aria-label="Register">
  Don't have an account? <a class="text-link" routerLink="/auth/register">Register</a>
</section> -->